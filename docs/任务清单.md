  一、数据模型设计

  1. 任务表 (Tasks)

  - id: 主键，自增ID
  - title: 任务标题
  - detection_type: 检测类型（static/dynamic）
  - status: 任务状态（pending/processing/completed/failed）
  - progress: 执行进度（0-100）
  - total_files: 总文件数
  - processed_files: 已处理文件数
  - created_at: 创建时间
  - updated_at: 更新时间
  - started_at: 开始执行时间
  - completed_at: 完成时间
  - error_message: 错误信息

  2. 文件表 (Files)

  - id: 主键，自增ID
  - task_id: 关联任务ID
  - file_name: 原始文件名
  - file_path: 存储路径
  - file_size: 文件大小（字节）
  - file_type: 文件类型（pdf/docx/md）
  - file_hash: 文件哈希值
  - upload_status: 上传状态（uploading/uploaded/failed）
  - created_at: 创建时间

  3. 文档内容表 (DocumentChunks)

  - id: 主键
  - file_id: 关联文件ID
  - task_id: 关联任务ID
  - chunk_order: 文本块顺序
  - original_text: 原始文本
  - chunk_size: 文本块大小
  - created_at: 创建时间

  4. 结构化内容表 (StructuredContent)

  - id: 主键
  - task_id: 关联任务ID
  - file_id: 关联文件ID
  - chunk_id: 关联文本块ID
  - chapter_name: 章节名称
  - content_body: 正文内容
  - table_content: 表格内容
  - chapter_summary: 章节摘要
  - chapter_type: 章节类型（操作类/描述类）
  - ai_model_used: 使用的AI模型
  - processing_time: 处理耗时
  - created_at: 创建时间

  5. 检测问题表 (DetectionIssues)

  - id: 主键，自增ID
  - task_id: 关联任务ID
  - file_id: 关联文件ID
  - issue_type: 问题类型（语法/逻辑/完整性）
  - description: 问题描述
  - location: 所在位置（章节/页码）
  - severity: 严重程度（高/中/低）
  - suggestion: 改进建议
  - ai_confidence: AI置信度（0-1）
  - created_at: 创建时间

  6. 用户反馈表 (UserFeedback)

  - id: 主键，自增ID
  - task_id: 关联任务ID
  - issue_id: 关联问题ID
  - feedback_type: 反馈类型（accept/reject）
  - comment: 用户评价
  - created_at: 创建时间

  7. AI调用记录表 (AICallLogs)

  - id: 主键，自增ID
  - task_id: 关联任务ID
  - model_name: 使用的模型
  - prompt_type: 提示词类型（structure/detection）
  - input_text: 输入内容
  - output_text: 输出内容
  - tokens_used: token使用量
  - cost: 费用（元）
  - duration: 耗时（秒）
  - status: 调用状态（success/failed）
  - error_message: 错误信息
  - created_at: 创建时间

  8. 报告表 (Reports)

  - id: 主键，自增ID
  - task_id: 关联任务ID
  - report_type: 报告类型（preliminary/final）
  - file_name: 报告文件名
  - file_path: 报告存储路径
  - file_size: 文件大小
  - status: 生成状态（generating/completed/failed）
  - total_issues: 问题总数
  - accepted_issues: 接受的问题数
  - rejected_issues: 拒绝的问题数
  - generated_at: 生成时间
  - created_at: 创建时间



  二、前端开发计划

  1. 页面结构设计

  TaskCreate/
  ├── index.tsx              # 主页面组件
  ├── components/
  │   ├── FileUpload.tsx     # 文件上传组件
  │   ├── TaskForm.tsx       # 任务表单组件
  │   ├── ProgressModal.tsx  # 进度弹窗组件
  │   └── ErrorModal.tsx     # 错误处理弹窗
  ├── hooks/
  │   ├── useFileUpload.ts   # 文件上传逻辑
  │   ├── useTaskCreate.ts   # 任务创建逻辑
  │   └── useProgress.ts     # 进度监控逻辑
  ├── types/
  │   └── task.ts            # 类型定义
  └── utils/
      ├── fileValidator.ts   # 文件验证工具
      └── formatters.ts      # 格式化工具

  TaskList/                  # 任务列表页面
  ├── index.tsx              # 列表主页面
  ├── components/
  │   ├── TaskCard.tsx       # 任务卡片组件
  │   ├── TaskFilters.tsx    # 任务筛选器
  │   ├── TaskActions.tsx    # 操作按钮组
  │   ├── StatusBadge.tsx    # 状态标签
  │   └── EmptyState.tsx     # 空状态提示
  ├── hooks/
  │   ├── useTaskList.ts     # 任务列表逻辑
  │   ├── useTaskFilters.ts  # 筛选逻辑
  │   └── useTaskActions.ts  # 操作逻辑
  └── types/
      └── taskList.ts        # 列表相关类型

  TaskDetail/                # 任务详情页面
  ├── index.tsx              # 详情主页面
  ├── components/
  │   ├── TaskHeader.tsx     # 任务头部信息
  │   ├── FileList.tsx       # 文件列表组件
  │   ├── ExecutionLog.tsx   # 执行日志组件
  │   ├── IssuesSummary.tsx  # 问题汇总组件
  │   ├── ProgressTimeline.tsx # 进度时间线
  │   └── ActionBar.tsx      # 操作栏
  ├── hooks/
  │   ├── useTaskDetail.ts   # 详情数据逻辑
  │   └── useExecutionLog.ts # 日志查询逻辑
  └── types/
      └── taskDetail.ts      # 详情相关类型

  ReportGenerator/           # 报告生成模块
  ├── components/
  │   ├── ReportPreview.tsx  # 报告预览组件
  │   ├── ExportOptions.tsx  # 导出选项组件
  │   └── GenerateButton.tsx # 生成按钮组件
  ├── services/
  │   ├── ExcelExporter.ts   # Excel导出服务
  │   ├── ReportBuilder.ts   # 报告构建器
  │   └── TemplateManager.ts # 模板管理器
  ├── templates/
  │   ├── summarySheet.ts    # 汇总表模板
  │   ├── statisticsSheet.ts # 统计表模板
  │   └── suggestionsSheet.ts # 建议表模板
  └── types/
      └── report.ts          # 报告相关类型

  2. 组件开发清单

  2.1 文件上传组件 (FileUpload.tsx)

  功能要求：
  - 支持拖拽上传和点击上传
  - 支持多文件选择和上传
  - 文件类型验证（PDF、DOCX、MD）
  - 文件大小验证（最大10MB）
  - 上传进度显示
  - 文件预览信息显示
  - 文件列表管理

  开发任务：
  - [ ] 实现多文件拖拽上传交互
  - [ ] 集成文件验证逻辑
  - [ ] 添加文件类型图标显示
  - [ ] 实现文件大小格式化显示
  - [ ] 添加文件列表展示和管理
  - [ ] 添加单个文件删除功能
  - [ ] 错误状态提示设计
  - [ ] 文件上传进度条显示

  2.2 任务表单组件 (TaskForm.tsx)

  功能要求：
  - 任务标题输入（可选，默认使用文件名）
  - 检测类型选择（当前仅静态检测）
  - 表单验证
  - 提交按钮状态管理

  开发任务：
  - 设计表单布局
  - 实现表单验证规则
  - 添加提交按钮加载状态
  - 集成检测类型选择器
  - 添加表单重置功能

  2.3 进度监控弹窗 (ProgressModal.tsx)

  功能要求：
  - 实时显示任务执行进度
  - 展示当前执行阶段
  - 支持取消操作
  - 完成后跳转选项

  开发任务：
  - 设计进度条UI
  - 实现实时进度更新
  - 添加阶段状态显示
  - 集成取消任务功能
  - 添加完成后操作引导

  3. 状态管理设计

  3.1 任务创建状态

  interface TaskCreateState {
    // 文件状态
    selectedFiles: File[];  // 支持多文件
    fileValidation: {
      isValid: boolean;
      errors: string[];
    };

    // 表单状态
    taskForm: {
      title: string;
      detectionType: 'static' | 'dynamic';
    };

    // 提交状态
    isSubmitting: boolean;
    submitError: string | null;

    // 进度状态
    currentTask: {
      id: string;
      progress: number;
      stage: string;
      status: TaskStatus;
    } | null;
  }

  3.2 任务列表状态

  interface TaskListState {
    // 列表数据
    tasks: Task[];
    totalCount: number;
    
    // 加载状态
    loading: boolean;
    error: string | null;
    
    // 筛选条件
    filters: {
      status: TaskStatus | 'all';
      dateRange: [Date, Date] | null;
      searchKeyword: string;
    };
    
    // 分页
    pagination: {
      current: number;
      pageSize: number;
      total: number;
    };
    
    // 选中项
    selectedTaskIds: string[];
  }

  3.3 任务详情状态

  interface TaskDetailState {
    // 任务信息
    task: Task | null;
    files: TaskFile[];
    issues: Issue[];
    
    // 执行日志
    executionLogs: ExecutionLog[];
    aiCallLogs: AICallLog[];
    
    // 报告状态
    report: Report | null;
    isGeneratingReport: boolean;
    
    // 加载状态
    loading: boolean;
    error: string | null;
  }

  三、后端开发计划

  1. API接口设计

  1.1 创建任务接口

  POST /api/tasks
  Content-Type: multipart/form-data

  Request:
  - files: 文件对象数组（支持多文件）
  - title: 任务标题（可选）
  - detection_type: 检测类型

  Response:
  {
    "task_id": "uuid",
    "status": "pending",
    "total_files": 3,
    "uploaded_files": [
      {
        "file_id": "uuid",
        "file_name": "doc1.pdf",
        "file_size": 1024000
      }
    ],
    "message": "任务创建成功"
  }

  1.2 查询任务进度接口

  GET /api/tasks/{task_id}/progress

  Response:
  {
    "task_id": "uuid",
    "status": "processing",
    "progress": 45,
    "current_stage": "文本结构化",
    "started_at": "2024-01-01T10:00:00Z",
    "estimated_completion": "2024-01-01T10:05:00Z"
  }

  1.3 取消任务接口

  DELETE /api/tasks/{task_id}

  Response:
  {
    "success": true,
    "message": "任务已取消"
  }

  1.4 查询任务问题列表接口

  GET /api/tasks/{task_id}/issues

  Response:
  {
    "task_id": "uuid",
    "total_issues": 25,
    "issues": [
      {
        "id": "uuid",
        "type": "语法",
        "description": "存在错别字：'文档'应为'文档'",
        "location": "第2章第3节",
        "severity": "中",
        "suggestion": "建议修正错别字",
        "file_name": "doc1.pdf",
        "user_feedback": null
      }
    ]
  }

  1.5 提交问题反馈接口

  POST /api/tasks/{task_id}/issues/{issue_id}/feedback

  Request:
  {
    "feedback_type": "accept|reject",
    "comment": "用户评价（可选）"
  }

  Response:
  {
    "success": true,
    "message": "反馈提交成功"
  }

  1.6 查询任务列表接口

  GET /api/tasks

  Query Parameters:
  - page: 页码（默认1）
  - page_size: 每页数量（默认20）
  - status: 任务状态筛选
  - start_date: 开始日期
  - end_date: 结束日期
  - keyword: 搜索关键词

  Response:
  {
    "total": 100,
    "page": 1,
    "page_size": 20,
    "tasks": [
      {
        "id": "uuid",
        "title": "任务标题",
        "status": "completed",
        "progress": 100,
        "total_files": 3,
        "created_at": "2024-01-01T10:00:00Z",
        "completed_at": "2024-01-01T10:05:00Z"
      }
    ]
  }

  1.7 获取任务详情接口

  GET /api/tasks/{task_id}

  Response:
  {
    "id": "uuid",
    "title": "任务标题",
    "status": "completed",
    "progress": 100,
    "total_files": 3,
    "processed_files": 3,
    "files": [
      {
        "id": "uuid",
        "file_name": "doc1.pdf",
        "file_size": 1024000,
        "upload_status": "uploaded"
      }
    ],
    "created_at": "2024-01-01T10:00:00Z",
    "started_at": "2024-01-01T10:00:30Z",
    "completed_at": "2024-01-01T10:05:00Z",
    "total_issues": 25,
    "error_message": null
  }

  1.8 生成报告接口

  POST /api/tasks/{task_id}/report/generate

  Request:
  {
    "report_type": "preliminary|final",
    "include_rejected": false
  }

  Response:
  {
    "report_id": "uuid",
    "status": "generating",
    "message": "报告生成中"
  }

  1.9 下载报告接口

  GET /api/tasks/{task_id}/report/download

  Query Parameters:
  - report_id: 报告ID（可选，默认最新）

  Response:
  Binary file stream (Excel文件)

  1.10 获取执行日志接口

  GET /api/tasks/{task_id}/logs

  Query Parameters:
  - log_type: 日志类型（execution|ai_call）
  - page: 页码
  - page_size: 每页数量

  Response:
  {
    "total": 50,
    "logs": [
      {
        "id": "uuid",
        "timestamp": "2024-01-01T10:00:00Z",
        "level": "info",
        "message": "开始解析文件",
        "details": {}
      }
    ]
  }

  1.11 批量操作接口

  POST /api/tasks/batch

  Request:
  {
    "task_ids": ["uuid1", "uuid2"],
    "action": "delete|retry|stop"
  }

  Response:
  {
    "success": true,
    "affected": 2,
    "message": "批量操作成功"
  }

  2. 文件处理模块

  2.1 文件上传处理

  开发任务：
  - 实现多格式文件上传接收
  - 文件类型和大小验证
  - 安全文件名处理
  - 文件存储路径管理
  - 上传失败清理机制

  2.2 文件解析器

  开发任务：
  - PDF文件解析器（PyPDF2/pdfplumber）
  - Word文档解析器（python-docx）
  - Markdown文件解析器
  - 文本分块算法实现
  - 文本清理和格式化
  - 解析错误处理机制

  3. 任务执行引擎

  3.1 任务队列设计

  class TaskProcessor:
      def __init__(self):
          self.queue = []
          self.processing = {}

      async def add_task(self, task: Task):
          # 添加任务到队列
          pass

      async def process_task(self, task_id: str):
          # 执行任务主流程
          pass

      async def cancel_task(self, task_id: str):
          # 取消任务执行
          pass

  3.2 执行流程设计

  阶段1：文件解析 (0-20%)
  - 文件读取和验证
  - 文本内容提取
  - 文本分块处理
  - 进度更新

  阶段2：文本结构化 (20-60%)
  - AI模型调用接口封装
  - 批量文本处理
  - 结构化数据验证
  - 重试机制实现
  - 进度计算和更新

  阶段3：静态检测 (60-90%)
  - 检测规则引擎
  - AI分析结果处理
  - JSON结构验证
  - 结果数据存储

  阶段4：数据整理 (90-100%)
  - 检测结果汇总
  - 任务状态更新
  - 通知机制触发

  4. 报告生成模块

  4.1 报告生成服务

  class ReportGenerator:
      def __init__(self):
          self.excel_writer = ExcelWriter()
          self.template_manager = TemplateManager()
      
      async def generate_report(self, task_id: str, report_type: str):
          # 获取任务数据
          task = await get_task(task_id)
          issues = await get_issues(task_id)
          feedbacks = await get_feedbacks(task_id)
          
          # 构建报告数据
          report_data = self.build_report_data(task, issues, feedbacks)
          
          # 生成Excel文件
          file_path = await self.excel_writer.write(report_data)
          
          # 保存报告记录
          await save_report(task_id, file_path)
          
          return file_path

  4.2 Excel导出功能

  开发任务：
  - [ ] 集成openpyxl库
  - [ ] 实现多Sheet页面创建
  - [ ] 添加样式和格式化
  - [ ] 实现图表生成
  - [ ] 添加数据透视表
  - [ ] 实现模板管理

  4.3 报告模板设计

  Sheet1 - 问题汇总：
  - [ ] 问题列表表格
  - [ ] 条件格式化（严重程度颜色）
  - [ ] 筛选器设置
  - [ ] 冻结窗格

  Sheet2 - 统计分析：
  - [ ] 问题分布饼图
  - [ ] 严重程度柱状图
  - [ ] 接受率统计
  - [ ] 文件维度分析

  Sheet3 - 改进建议：
  - [ ] 优先级排序
  - [ ] 分类汇总
  - [ ] 具体建议列表

  四、AI集成模块

  1. AI模型配置管理

  配置文件结构 (config/ai_models.yaml)：
  ```yaml
  models:
    structure_model:
      name: "qwen-plus"
      api_host: "http://localhost:8000"
      api_key: "your_api_key"
      max_tokens: 4096
      temperature: 0.1
    
    detection_model:
      name: "deepseek-chat"
      api_host: "http://localhost:8001"
      api_key: "your_api_key"
      max_tokens: 8192
      temperature: 0.3
  
  settings:
    retry_attempts: 3
    timeout: 30
    chunk_size: 8000
  ```

  开发任务：
  - [ ] 配置文件解析器
  - [ ] 模型配置验证
  - [ ] 动态模型切换
  - [ ] 配置热重载功能

  2. AI服务接口封装

  开发任务：
  - [ ] vLLM API客户端封装
  - [ ] 模型选择策略（基于配置文件）
  - [ ] 请求重试机制
  - [ ] 响应超时处理
  - [ ] 错误分类和处理

  2. 提示词工程

  2.1 文本结构化提示词

  STRUCTURE_PROMPT = """
  请将以下文档内容进行结构化提取，输出JSON格式：
  {
    "chapter_name": "章节名称",
    "content_body": "正文内容",
    "table_content": "表格内容",
    "chapter_summary": "章节摘要",
    "chapter_type": "操作类/描述类"
  }

  文档内容：
  {content}
  """

  2.2 静态检测提示词

  DETECTION_PROMPT = """
  请分析以下文档内容的质量问题，从语法规范性、逻辑完整性、内容质量三个维度评估：

  输出JSON格式：
  {
    "issues": [
      {
        "type": "语法/逻辑/完整性",
        "description": "问题描述",
        "location": "所在位置",
        "severity": "高/中/低",
        "suggestion": "改进建议"
      }
    ]
  }

  文档内容：
  {content}
  """

  五、错误处理和验证

  1. 文件验证规则

  开发任务：
  - 文件格式白名单验证
  - 文件头魔数验证
  - 文件大小限制检查
  - 文件内容安全扫描
  - 恶意文件检测

  2. 数据验证

  开发任务：
  - JSON结构验证器
  - AI输出格式检查
  - 数据完整性验证
  - 异常数据处理
  - 数据修复机制

  3. 错误恢复

  开发任务：
  - 任务执行失败恢复
  - 部分完成任务续传
  - 数据回滚机制
  - 错误日志记录
  - 用户友好错误提示

  六、测试计划

  1. 单元测试

  - 文件上传组件测试
  - 文件验证函数测试
  - 文件解析器测试
  - AI接口调用测试
  - 数据模型测试

  2. 集成测试

  - 完整任务创建流程测试
  - 多文件格式支持测试
  - 并发任务处理测试
  - 错误场景测试
  - 性能压力测试

  3. 用户体验测试

  - 文件上传交互测试
  - 进度显示准确性测试
  - 错误提示友好性测试
  - 响应时间测试
  - 移动端适配测试

  七、部署和配置

  1. 环境配置

  - 文件存储目录配置
  - 数据库连接配置
  - AI模型API配置
  - 日志输出配置
  - 性能监控配置
  - Redis缓存配置
  - WebSocket配置

  2. 系统监控

  - 任务执行监控
  - 文件存储空间监控
  - AI接口调用监控
  - 系统性能监控
  - 错误率监控
  - 实时告警配置

  3. 性能优化

  3.1 文件上传优化

  开发任务：
  - [ ] 实现文件分块上传（chunk size: 1MB）
  - [ ] 添加断点续传功能
  - [ ] 实现并发上传控制
  - [ ] 添加上传进度缓存
  - [ ] 实现文件去重（基于MD5）

  3.2 任务执行优化

  开发任务：
  - [ ] 实现任务优先级队列
  - [ ] 添加任务并发控制
  - [ ] 实现智能重试策略
  - [ ] 添加任务超时控制
  - [ ] 实现资源动态分配

  3.3 缓存优化

  开发任务：
  - [ ] Redis缓存层实现
  - [ ] 任务进度缓存
  - [ ] AI响应缓存
  - [ ] 报告模板缓存
  - [ ] 缓存失效策略

  3.4 实时通信优化

  开发任务：
  - [ ] WebSocket服务器搭建
  - [ ] 实时进度推送
  - [ ] 任务状态变更通知
  - [ ] 断线重连机制
  - [ ] 消息队列集成


  八、问题查看和反馈功能

  1. 问题列表页面设计

  页面结构：
  ```
  IssueList/
  ├── index.tsx              # 问题列表主页面
  ├── components/
  │   ├── IssueCard.tsx      # 单个问题卡片
  │   ├── FeedbackModal.tsx  # 反馈弹窗
  │   ├── FilterBar.tsx      # 问题筛选栏
  │   └── BatchActions.tsx   # 批量操作栏
  ├── hooks/
  │   ├── useIssueList.ts    # 问题列表逻辑
  │   ├── useFeedback.ts     # 反馈提交逻辑
  │   └── useFilters.ts      # 筛选逻辑
  └── types/
      └── issue.ts           # 问题相关类型
  ```

  2. 问题卡片组件 (IssueCard.tsx)

  功能要求：
  - 显示问题详细信息（类型、描述、位置、严重程度）
  - 显示来源文件信息
  - 支持接受/拒绝操作
  - 支持添加评价
  - 显示反馈状态

  开发任务：
  - [ ] 设计问题卡片布局
  - [ ] 实现严重程度颜色标识
  - [ ] 添加操作按钮（接受/拒绝/评价）
  - [ ] 集成反馈状态显示
  - [ ] 添加问题定位链接

  3. 反馈弹窗组件 (FeedbackModal.tsx)

  功能要求：
  - 显示问题详细信息
  - 支持反馈类型选择
  - 支持评价文本输入
  - 表单验证
  - 提交状态管理

  开发任务：
  - [ ] 设计弹窗布局
  - [ ] 实现反馈表单
  - [ ] 添加文本输入验证
  - [ ] 集成提交状态管理
  - [ ] 添加键盘快捷键支持

  4. 筛选和批量操作

  筛选功能：
  - 按问题类型筛选
  - 按严重程度筛选
  - 按反馈状态筛选
  - 按来源文件筛选

  批量操作：
  - 批量接受问题
  - 批量拒绝问题
  - 导出未反馈问题

  开发任务：
  - [ ] 实现多维度筛选器
  - [ ] 添加批量选择功能
  - [ ] 集成批量操作接口
  - [ ] 添加操作确认弹窗

  九、AI模型配置管理

  1. 配置文件管理

  配置文件位置：`config/ai_models.yaml`
  
  管理功能：
  - 模型配置热重载
  - 配置验证和错误提示
  - 多模型负载均衡
  - 模型健康检查

  开发任务：
  - [ ] 配置文件解析器开发
  - [ ] 配置验证规则实现
  - [ ] 热重载机制开发
  - [ ] 模型健康检查接口
  - [ ] 配置管理API接口

  2. 模型调用策略

  策略设计：
  - 根据任务类型选择模型
  - 根据文本长度选择模型
  - 失败自动切换备用模型
  - 并发调用控制

  开发任务：
  - [ ] 模型选择算法实现
  - [ ] 并发控制机制
  - [ ] 失败切换逻辑
  - [ ] 性能监控集成

  十、任务列表管理功能

  1. 任务卡片组件 (TaskCard.tsx)

  功能要求：
  - 显示任务基本信息
  - 显示任务状态和进度
  - 显示文件数量和大小
  - 提供快捷操作按钮
  - 支持任务选中

  开发任务：
  - [ ] 设计任务卡片布局
  - [ ] 实现进度条组件
  - [ ] 添加状态标签样式
  - [ ] 集成操作按钮组
  - [ ] 添加选中交互效果

  2. 任务筛选器 (TaskFilters.tsx)

  功能要求：
  - 按状态筛选
  - 按日期范围筛选
  - 关键词搜索
  - 快捷筛选（今日、本周、本月）
  - 筛选条件清除

  开发任务：
  - [ ] 实现状态选择器
  - [ ] 集成日期范围选择器
  - [ ] 添加搜索输入框
  - [ ] 实现快捷筛选按钮
  - [ ] 添加筛选条件标签

  3. 批量操作功能

  功能要求：
  - 全选/反选
  - 批量删除
  - 批量重试
  - 批量导出

  开发任务：
  - [ ] 实现选择框组件
  - [ ] 添加批量操作栏
  - [ ] 集成确认对话框
  - [ ] 实现批量操作API调用
  - [ ] 添加操作进度提示

  十一、日志和监控系统

  1. 日志系统集成

  开发任务：
  - [ ] 集成日志框架（winston/bunyan）
  - [ ] 配置日志级别
  - [ ] 实现日志轮转
  - [ ] 添加日志查询API
  - [ ] 实现日志可视化

  2. 监控指标收集

  指标类型：
  - 任务执行时长
  - AI调用成功率
  - 文件处理速度
  - 系统资源使用率
  - 错误发生频率

  开发任务：
  - [ ] 集成监控框架（Prometheus）
  - [ ] 定义监控指标
  - [ ] 实现指标收集器
  - [ ] 配置告警规则
  - [ ] 创建监控仪表板

  3. 错误追踪系统

  开发任务：
  - [ ] 集成错误追踪服务（Sentry）
  - [ ] 配置错误级别
  - [ ] 实现错误上下文收集
  - [ ] 添加用户反馈收集
  - [ ] 配置错误通知